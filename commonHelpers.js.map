{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImagesFromPixabay(query) {\n  const pixabayUrl = 'https://pixabay.com/api/';\n  const pixabayKey = '45258111-19b0afcb9384c7a2acd16a24f';\n  let params = new URLSearchParams({\n    key: pixabayKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(pixabayUrl + '?' + params, {\n    headers: {\n      Accept: 'application/json',\n    },\n  }).then(response => response.json());\n}\n","export function render(images) {\n  let renderHtml = '';\n  images.forEach(image => {\n    renderHtml += `\n  <li class=\"gallery-item\">\n    <div class='gallery-item-wrap'>\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">  \n        <img src=\"${image.webformatURL}\" class=\"gallery-image\"  />\n      </a>\n      <div class=\"gallery-item-description\">\n          <div>\n            <h3>Likes</h3>\n            <p>${image.likes}</p>\n          </div>\n          <div>\n            <h3>Views</h3>\n            <p>${image.views}</p>\n          </div>\n          <div>\n            <h3>Comments</h3>\n            <p>${image.comments}</p>\n          </div>\n          <div>\n            <h3>Downloads</h3>\n            <p>${image.downloads}</p>\n          </div>\n        </ul\n    \n      </div>\n    </div>\n    </li>\n  `;\n  });\n  return renderHtml;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImagesFromPixabay } from './js/pixabay-api';\nimport { render } from './js/render-functions';\n\nconst loader = document.querySelector('.loader');\n\nlet gallery = document.querySelector('.gallery');\n\nlet searchInput = document.querySelector('.search');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n});\n\ndocument.querySelector('#search-form').addEventListener('submit', e => {\n  e.preventDefault();\n  loader.style.display = 'block';\n  let query = searchInput.value;\n\n  getImagesFromPixabay(query)\n    .then(response => {\n      const images = response.hits;\n\n      if (images.length === 0) {\n        notifyError();\n        return;\n      }\n\n      searchInput.value = '';\n\n      gallery.innerHTML = render(images);\n      lightbox.refresh();\n    })\n    .catch(e => notifyError(e.message))\n    .finally(() => (loader.style.display = 'none'));\n});\n\nconst notifyError = (\n  m = 'Sorry, there are no images matching your search query. Please try again!'\n) => {\n  iziToast.error({\n    message: m,\n    position: 'topRight',\n  });\n};\n"],"names":["getImagesFromPixabay","query","pixabayUrl","pixabayKey","params","response","render","images","renderHtml","image","loader","gallery","searchInput","lightbox","SimpleLightbox","e","notifyError","m","iziToast"],"mappings":"6vBAAO,SAASA,EAAqBC,EAAO,CAC1C,MAAMC,EAAa,2BACbC,EAAa,qCACnB,IAAIC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAMC,EAAa,IAAME,EAAQ,CACtC,QAAS,CACP,OAAQ,kBACT,CACF,CAAA,EAAE,KAAKC,GAAYA,EAAS,KAAM,CAAA,CACrC,CCfO,SAASC,EAAOC,EAAQ,CAC7B,IAAIC,EAAa,GACjB,OAAAD,EAAO,QAAQE,GAAS,CACtBD,GAAc;AAAA;AAAA;AAAA,iBAGDC,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKrBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAQhC,CAAG,EACMD,CACT,CCzBA,MAAME,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAc,SAAS,cAAc,SAAS,EAElD,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,GAChB,CAAC,EAED,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAUC,GAAK,CACrEA,EAAE,eAAc,EAChBL,EAAO,MAAM,QAAU,QACvB,IAAIT,EAAQW,EAAY,MAExBZ,EAAqBC,CAAK,EACvB,KAAKI,GAAY,CAChB,MAAME,EAASF,EAAS,KAExB,GAAIE,EAAO,SAAW,EAAG,CACvBS,IACA,MACD,CAEDJ,EAAY,MAAQ,GAEpBD,EAAQ,UAAYL,EAAOC,CAAM,EACjCM,EAAS,QAAO,CACtB,CAAK,EACA,MAAME,GAAKC,EAAYD,EAAE,OAAO,CAAC,EACjC,QAAQ,IAAOL,EAAO,MAAM,QAAU,MAAO,CAClD,CAAC,EAED,MAAMM,EAAc,CAClBC,EAAI,6EACD,CACHC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,UACd,CAAG,CACH"}